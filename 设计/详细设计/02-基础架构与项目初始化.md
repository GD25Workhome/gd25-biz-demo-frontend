# 基础架构与项目初始化
环境说明：本文以 macOS 开发环境为准。

## 目标
- 基于 React + Vite + TypeScript 快速搭建可扩展的前端骨架
- 内置路由、UI 布局、网络层与服务器状态管理

## 目录结构
```text
├─ src
│  ├─ app
│  │  ├─ App.tsx
│  │  └─ router.tsx
│  ├─ pages
│  │  ├─ Dashboard
│  │  │  ├─ ListPage.tsx
│  │  │  └─ DetailPage.tsx
│  │  └─ Chat
│  │     └─ ChatPage.tsx
│  ├─ components
│  │  ├─ DataTable.tsx
│  │  ├─ MessageList.tsx
│  │  └─ ChatInput.tsx
│  ├─ services
│  │  ├─ api
│  │  │  ├─ http.ts
│  │  │  ├─ data.ts
│  │  │  └─ chat.ts
│  │  └─ queryClient.ts
│  ├─ store
│  │  ├─ chat.ts
│  │  └─ ui.ts
│  ├─ types
│  │  └─ index.ts
│  ├─ utils
│  │  └─ format.ts
│  ├─ assets
│  ├─ main.tsx
│  └─ vite-env.d.ts
├─ index.html
└─ package.json
```

## 初始化步骤
1. 使用 Vite 创建 React TS 工程
2. 安装文档列出的固定版本依赖
3. 配置 `tsconfig.json` 路径别名（可选，如 `@/` 指向 `src/`）
4. 配置 `vite.config.ts`：开启 React 插件、开发代理、环境变量注入

## 基础代码骨架
- `src/main.tsx`：挂载根节点、引入 `App`
- `src/app/App.tsx`：全局布局（Antd `Layout`）、顶部/侧边菜单、`<RouterProvider/>`
- `src/app/router.tsx`：定义路由表（`/dashboard`、`/dashboard/:id`、`/chat`）
- `src/services/api/http.ts`：Axios 实例、拦截器与错误处理
- `src/services/queryClient.ts`：React Query `QueryClient` 初始化与全局配置
- `src/pages/Dashboard/*`：列表与详情页骨架
- `src/pages/Chat/ChatPage.tsx`：聊天页骨架

## 路由与布局
- 使用 React Router v6 的 `createBrowserRouter` 管理路由
- 顶部菜单包含“后台数据”“聊天”，指向对应页面
- 支持 404 与错误边界（可用 `ErrorElement`）

## 状态管理策略
- 服务器状态：统一由 React Query 管理，使用规范的 `queryKey`
- 客户端局部状态：Zustand 存储 UI 态与聊天会话态
- 通知：Antd `message` 或 `notification` 用于提示错误与结果

## 代码质量与格式化
- ESLint + `@typescript-eslint`：启用 TypeScript 规则与 React 推荐规则
- Prettier：统一格式；结合编辑器保存自动格式化
- 建议在 `package.json` 添加脚本：`lint`、`typecheck`、`format`

## 验证
- 启动开发服务器：`npm run dev`
- 验证路由可访问与 Antd 布局渲染正常
- 查看 Network 确认请求基地址与代理生效
